import React from "react";
import { useUser } from "../../../context/user/UserContext";
import s from "./Avatar.module.scss";

export default function Avatar({ src }: { src?: string }) {
  const { user } = useUser();

  if (src || user?.avatar) {
    return (
      <span className={s.avatar}>
        <img src={src || user?.avatar} alt="user-avatar" />
      </span>
    );
  }

  return (
    <span className={s.fallback}>
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="29"
        height="29"
        viewBox="0 0 29 29"
        fill="none"
      >
        <path
          d="M19.1121 15.036C20.2559 14.1361 21.0908 12.902 21.5006 11.5056C21.9104 10.1091 21.8747 8.6196 21.3986 7.24434C20.9224 5.86907 20.0294 4.67642 18.8439 3.83229C17.6583 2.98816 16.2392 2.53455 14.7838 2.53455C13.3284 2.53455 11.9093 2.98816 10.7237 3.83229C9.53818 4.67642 8.64521 5.86907 8.16906 7.24434C7.6929 8.6196 7.65724 10.1091 8.06703 11.5056C8.47682 12.902 9.31169 14.1361 10.4555 15.036C8.49557 15.8212 6.78548 17.1235 5.50752 18.8042C4.22956 20.4849 3.43163 22.4808 3.19881 24.5793C3.18196 24.7325 3.19545 24.8875 3.23851 25.0355C3.28157 25.1835 3.35335 25.3216 3.44977 25.4418C3.6445 25.6847 3.92772 25.8403 4.23714 25.8743C4.54656 25.9083 4.85683 25.8181 5.09969 25.6233C5.34255 25.4286 5.49811 25.1454 5.53214 24.836C5.78833 22.5553 6.87578 20.4491 8.58673 18.9195C10.2977 17.39 12.5122 16.5445 14.8071 16.5445C17.1021 16.5445 19.3166 17.39 21.0276 18.9195C22.7385 20.4491 23.826 22.5553 24.0821 24.836C24.1139 25.1226 24.2506 25.3874 24.4661 25.5791C24.6815 25.7709 24.9604 25.876 25.2488 25.8743H25.3771C25.683 25.8391 25.9625 25.6845 26.1548 25.4441C26.3471 25.2037 26.4366 24.897 26.4038 24.591C26.1699 22.4865 25.3677 20.4854 24.0831 18.8022C22.7986 17.1189 21.0802 15.817 19.1121 15.036ZM14.7838 14.2076C13.8608 14.2076 12.9586 13.9339 12.1911 13.4211C11.4237 12.9084 10.8256 12.1795 10.4724 11.3268C10.1192 10.4741 10.0267 9.53578 10.2068 8.63054C10.3869 7.72529 10.8313 6.89377 11.484 6.24113C12.1366 5.58848 12.9681 5.14402 13.8734 4.96396C14.7786 4.7839 15.7169 4.87631 16.5697 5.22952C17.4224 5.58273 18.1512 6.18087 18.664 6.9483C19.1768 7.71573 19.4505 8.61798 19.4505 9.54096C19.4505 10.7786 18.9588 11.9656 18.0836 12.8408C17.2085 13.716 16.0215 14.2076 14.7838 14.2076Z"
          fill="white"
        />
      </svg>
    </span>
  );
}
